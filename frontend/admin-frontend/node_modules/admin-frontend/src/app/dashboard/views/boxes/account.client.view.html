<div data-ng-controller="DashboardAccountBoxController as accountBox" data-ng-init="accountBox.init()">
    <div class="dashboard-box" data-ng-if="accountBox.account">
        <div class="dashboard-box-icon">
            <i class="fa fa-user"></i>
        </div>
        <div class="dashboard-box-loader" data-ng-if="!accountBox.account.$resolved">
            <img src="/app/core/img/loaders/loader.gif" alt="Loading"><span></span>
        </div>
        <div class="dashboard-box-content" data-ng-if="accountBox.account.$resolved">
            <div class="dashboard-box-header">
                <span data-ng-if="accountBox.listing.receptionistsService.receptionDesk.whiteLabel" class="label label-danger">
                    Impersonate
                    <span data-ng-if="accountBox.listing.receptionistsService.receptionDesk.customImpersonation">as {{accountBox.listing.receptionistsService.receptionDesk.customImpersonation}}</span>
                    !
                </span>
                <span data-ng-if="accountBox.listing.receptionistsService.receptionDesk" class="label label-info">Custom signature</span>
                <span data-ng-if="!accountBox.account.active" class="label label-danger">Canceled account</span>
            </div>
            <div class="dashboard-box-body">
                <div class="row">
                    <div class="col-md-12 text-left">
                        <div>
                            <a data-ui-sref="account.settings({accountId: accountBox.account._id})" target="_blank">{{accountBox.account.name}}</a>
                            <fish-icon data-ng-model="accountBox.account.accountCategorization"></fish-icon>
                        </div>
                        <div data-ng-if="accountBox.integration.nickname">
                            (<span data-ng-bind="accountBox.integration.nickname"></span>)
                        </div>
                        <div class="text-danger" data-ng-if="accountBox.integration.fullName && accountBox.integration.fullName !== accountBox.account.name">
                            <span>Presented as:</span>
                            <strong>{{accountBox.integration.fullName}}</strong>
                        </div>
                        <div data-ng-if="accountBox.displayCredentials">
                            <div data-ng-if="accountBox.integration.credentials.username">
                                <small>
                                    <i class="fa fa-user fa-fw"></i>
                                    <span>Airbnb Username:</span>
                                    <span data-ng-bind="accountBox.integration.credentials.username"></span>
                                    <button type="button" class="btn btn-default btn-xs" data-clipboard data-clipboard-text="{{accountBox.integration.credentials.username}}"><i class="fa fa-clipboard"></i></button>
                                </small>
                            </div>
                            <div data-ng-if="accountBox.integration.credentials.password">
                                <small>
                                    <i class="fa fa-clock-o fa-fw"></i>
                                    <span>Airbnb Password:</span>
                                    <span data-ng-bind="accountBox.integration.credentials.password"></span>
                                    <button type="button" class="btn btn-default btn-xs" data-clipboard data-clipboard-text="{{accountBox.integration.credentials.password}}"><i class="fa fa-clipboard"></i></button>
                                </small>
                            </div>
                            <div data-ng-if="!accountBox.integration.credentials">
                                <small>
                                    Couldn't determine the integration. Go to the user's integrations page.
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="dashboard-box-footer">
                <div class="btn-group btn-group-justified">
                    <div class="btn-group" role="group">
                        <button class="btn btn-default" data-ng-click="accountBox.toggleCredentials()" title="toggle credentials">
                            <i class="fa fa-lock"></i>
                        </button>
                    </div>
                    <div class="btn-group" role="group">
                        <button class="btn btn-default" data-ng-click="accountBox.openMultiCalendar()" title="Multi-Calendar">
                            <i class="fa fa-calendar"></i> <i class="fa fa-calendar"></i>
                        </button>
                    </div>
                    <div class="btn-group" role="group">
                        <button class="btn btn-default" data-ng-click="accountBox.openResearchModal()">
                            Research
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

