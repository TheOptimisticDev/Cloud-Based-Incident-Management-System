<form class="form-horizontal" name="specialOfferForm" ng-submit="save()">
    <div class="modal-header">
        <h3 class="modal-title">Create a Special Offer</h3>
    </div>
    <div class="modal-body">
        <div class="row top-buffer">
            <div class="col-sm-6">
                <div class="input-group">
                    <span class="input-group-addon">Listing:</span>
                    <ui-select ng-model="specialOffer.listing" class="with-pics">
                        <ui-select-match placeholder="Select a listing">
                            <span class="label label-info" data-ng-if="$select.selected.nickname" data-ng-bind="$select.selected.nickname"></span>
                            <span data-ng-bind="$select.selected.title || 'Untitled'" title="{{$select.selected.address.full}}"></span>
                        </ui-select-match>
                        <ui-select-choices repeat="item in listings"
                                           refresh="loadListings($select.search)"
                                           refresh-delay="250">
                            <img class="pull-right" data-ng-if="item.picture.thumbnail" data-ng-src="{{item.picture.thumbnail}}">
                            <div class="truncate">
                                <span data-ng-if="item.nickname" class="label label-info" data-ng-bind="item.nickname"></span>
                                <strong data-ng-bind="item.title"></strong>
                            </div>
                            <div class="truncate" data-ng-bind="item.address.full"></div>
                        </ui-select-choices>
                    </ui-select>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="input-group">
                    <span class="input-group-addon">Guests:</span>
                    <select class="form-control" ng-model="specialOffer.guests" ng-options="guest for guest in guestsOptions"></select>
                </div>
            </div>
        </div>
        <div class="row top-buffer">
            <g-datepicker ng-model="specialOffer.startDate" class="col-sm-6">Between:</g-datepicker>
            <g-datepicker ng-model="specialOffer.endDate" class="col-sm-6">To:</g-datepicker>
        </div>

        <div class="row top-buffer">
            <div class="col-sm-6 col-sm-offset-3">
                <div class="input-group">
                    <span class="input-group-addon">Price:</span>
                    <input type="number" class="form-control" ng-model="specialOffer.price" required>
                    <span class="input-group-addon"><i class="fa fa-usd"></i></span>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" ng-disabled="issueForm.$invalid">
            Save
        </button>
        <button class="btn btn-warning" ng-click="cancel()" type="button">
            Cancel
        </button>
    </div>
</form>
