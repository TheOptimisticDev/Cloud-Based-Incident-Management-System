<form name="frmGuest" role="form" data-ng-init="guestCtrl.init()" data-ng-submit="guestCtrl.submitForm(frmGuest)">
    <div class="modal-header">
        Edit Guest
    </div>
    <div class="modal-body">
        <div class="form-group row">
            <div class="col-sm-6">
                <label>First Name</label>
                <input type="text" class="form-control" data-ng-model="guestCtrl.guest.firstName" required title="First Name">
            </div>
            <div class="col-sm-6">
                <label>Last Name</label>
                <input type="text" class="form-control" data-ng-model="guestCtrl.guest.lastName" title="Last Name">
            </div>
        </div>
        <div class="form-group">
            <label>Emails</label>
            <div class="input-group contact-method" data-ng-repeat="email in guestCtrl.emails" data-ng-class="{unstarred:email.value !== guestCtrl.guest.email}">
                <input type="email" class="form-control" data-ng-model="email.value" title="Email">
                <span class="input-group-btn">
                    <button class="btn btn-danger btn-delete" type="button" data-ng-click="guestCtrl.removeItemFromArray('email', email.value, frmGuest)" data-ng-if="guestCtrl.emails.length>1">Delete</button>
                    <button class="btn btn-default" type="button" data-ng-click="guestCtrl.setValue('email', email.value, frmGuest)">
                        <i class="fa fa-star" data-ng-if="email.value === guestCtrl.guest.email" data-uib-tooltip="This is your primary email" tooltip-append-to-body="true" tooltip-popup-delay="500"></i>
                        <i class="fa fa-star-o" data-ng-if="email.value !== guestCtrl.guest.email" data-uib-tooltip="Make this your primary email" tooltip-append-to-body="true" tooltip-popup-delay="500"></i>
                    </button>
                </span>
            </div>
            <div data-ng-if="guestCtrl.isDuplication(guestCtrl.emails)" class="alert alert-danger">There's an email duplication</div>
            <div>
                <button type="button" class="btn btn-default btn-sm" data-ng-click="guestCtrl.addEmail()">Add email</button>
            </div>
        </div>
        <div class="form-group">
            <label>Phones</label>
            <div class="" data-ng-repeat="phone in guestCtrl.phones">
                <ng-form name="frmPhone">
                    <div class="input-group contact-method" data-ng-class="{unstarred:phone.value !== guestCtrl.guest.phone}">
                        <input type="text" class="form-control" data-ng-model="phone.value" data-ng-pattern="/^[1-9]+[0-9]+$/" title="Phone">
                        <span class="input-group-btn">
                            <button class="btn btn-danger btn-delete" type="button" data-ng-click="guestCtrl.removeItemFromArray('phone', phone.value, frmGuest)">Delete</button>
                            <button class="btn btn-default" type="button" data-ng-click="guestCtrl.setValue('phone', phone.value, frmGuest)">
                                <i class="fa fa-star" data-ng-if="phone.value === guestCtrl.guest.phone" data-uib-tooltip="This is your primary phone" tooltip-append-to-body="true" tooltip-popup-delay="500"></i>
                                <i class="fa fa-star-o" data-ng-if="phone.value !== guestCtrl.guest.phone" data-uib-tooltip="Make this your primary phone" tooltip-append-to-body="true" tooltip-popup-delay="500"></i>
                            </button>
                        </span>
                    </div>
                    <div class="text-small text-danger help-block" data-ng-show="frmPhone.$error.pattern">Wrong format. Please use just numbers.</div>
                </ng-form>
            </div>
            <div data-ng-if="guestCtrl.isDuplication(guestCtrl.phones)" class="alert alert-danger">There's a phone duplication</div>
            <div>
                <button type="button" class="btn btn-default btn-sm" data-ng-click="guestCtrl.addPhone()">Add phone</button>
            </div>
        </div>
        <div class="form-group">
            <label>Hometown</label>
            <input type="text" class="form-control" data-ng-model="guestCtrl.guest.hometown" title="Hometown">
        </div>
        <div class="form-group">
            <label>Notes</label>
            <textarea class="form-control" title="Notes" data-ng-model="guestCtrl.guest.notes"></textarea>
        </div>
    </div>
    <div class="modal-footer text-right">
        <button type="submit" data-ng-disabled="frmGuest.$invalid || frmGuest.$submitted" class="btn btn-primary">
            Save
            <i data-ng-if="frmGuest.$submitted" class="fa fa-spinner fa-spin"></i>
        </button>
        <button type="button" class="btn btn-default" data-ng-click="$dismiss()">Cancel</button>
    </div>
</form>