'use strict';

//Reservations service used to communicate Reservations REST endpoints
angular.module('dashboard').factory('DashboardTickets', [
    '$resource',
    'AppConfig',
    function($resource, AppConfig) {

        var baseApi2Url = AppConfig.API_URL;
        var baseApiOldUrl = AppConfig.API_OLD_URL;

        return $resource(baseApiOldUrl + 'dashboard-tickets/:dashboardTicketId/:action', {
            dashboardTicketId: '@_id'
        }, {
            query: {
                isArray: false,
                method: 'GET'
            },
            update: {
                method: 'PUT'
            },
            assign: {
                method: 'POST',
                params: {
                    action: 'assign'
                }
            },
            complete: {
                method: 'POST',
                params: {
                    action: 'complete'
                }
            },
            setPriority: {
                method: 'POST',
                params: {
                    action: 'set-priority'
                }
            },
            getReviewsCount: {
                method: 'GET',
                params: {
                    action: 'get-reviews-count'
                }
            }
        });
    }
]);
