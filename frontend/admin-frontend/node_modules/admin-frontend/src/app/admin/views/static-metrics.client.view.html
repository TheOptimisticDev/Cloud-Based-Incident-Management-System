<div data-ng-controller="StaticMetricsController" data-ng-init="find()">
    <div class="page-header">
        <h1>Static Metrics</h1>
    </div>

    <div class="form-group text-right" data-ng-hide="addMode">
        <button class="btn btn-default" data-ng-click="addMode=true">Add metric</button>
    </div>
    <div class="row form-group" data-ng-if="addMode">
        <div class="col-lg-5">
            <h2>Add metric</h2>
            <div class="form-group">
                <label>Metric</label>
                <select data-ng-options="option.metric for option in metricTypes" data-ng-model="add.metric"></select>
            </div>
            <div class="form-group">
                <label>Period (MM/YYYY)</label>
                <input type="text" data-ng-model="add.date" placeholder="MM/YYYY">
            </div>
            <div class="form-group">
                <label>Value</label>
                <input type="text" data-ng-model="add.value">
            </div>
            <div class="form-group">
                <button class="btn btn-success" data-ng-click="saveNew(add)">Save</button>
            </div>
        </div>
    </div>

    <table class="table">
        <thead>
            <tr>
                <th>Metric</th>
                <th>Period</th>
                <th>Value</th>
                <th>Options</th>
            </tr>
        </thead>
        <tbody>
            <tr data-ng-repeat="metric in metrics">
                <td>{{metric.metric}}</td>
                <td>for the {{metric.period}} of {{metric.date | date: getDateFormatByPeriod(metric.period)}}</td>
                <td>{{metric.value | number}}</td>
                <td>
                    <button class="btn btn-default" data-ng-click="editValue(metric)"><i class="fa fa-edit"></i></button>
                    <button class="btn btn-danger" data-ng-click="deleteMetric(metric)"><i class="fa fa-trash"></i></button>
                </td>
            </tr>
        </tbody>
    </table>
</div>
