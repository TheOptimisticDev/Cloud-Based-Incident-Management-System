'use strict';

angular.module('integrations').factory('Integrations', [
    '$resource',
    'AppConfig',
	function($resource, AppConfig) {
        var baseApi2Url = AppConfig.API_URL;
		return $resource(baseApi2Url + 'integrations/:integrationId/:action', { integrationId: '@_id'
		}, {
            query: {
                isArray: false
            },
			save: {
				method: 'PUT'
			},
			resetPassword: {
				method: 'POST',
				params: {
					action: 'reset-password'
				}
			},
			create: {
				method: 'POST'
			},
            importExternalListings: {
                method: 'POST',
                params: {
                    action: 'import-external-listings'
                }
            },
            syncListings: {
                method: 'POST',
                params: {
                    action: 'sync-listings'
                }
            }
		});
	}
]);
