<form role="form" name="frmIntegration" data-ng-submit="saveIntegration(integration, frmIntegration)" data-ng-if="integration.$resolved">
    <div class="page-header">
        <div class="pull-right text-right">
            <span data-ng-show="frmIntegration.$dirty">
                <small class="text-warning">Changes were made</small>
                <small class="text-danger" data-ng-show="frmIntegration.$invalid">Form has errors.</small>
                <button class="btn btn-save" type="submit" data-ng-disabled="frmIntegration.$invalid"><i class="fa fa-save"></i> Save</button>
            </span>
            <button type="button" class="btn btn-default" ng-click="openLogModal(integration.platform)">Log</button>
        </div>
        <h1>
            Integration <span data-ng-bind="integration.nickname"></span>
            <span data-ng-if="integration.active" class="label label-success">Active</span>
            <span data-ng-if="!integration.active" class="label label-danger">Not active</span>
        </h1>
    </div>

    <section data-ng-if="integration.pendingTasks.length" class="alert alert-info">
        <h3>Sync in progress</h3>
        <ul>
            <li data-ng-repeat="task in integration.pendingTasks">
                <span data-ng-bind="task.createdAt|date:'short'" class="pull-right"></span>
                <strong data-ng-bind="task.platform"></strong>
                <span data-ng-bind="task.description"></span>
                <span data-ng-if="task.error" class="text-danger"><i class="fa fa-warning"></i> {{task.error}}</span>
            </li>
        </ul>
    </section>

    <section>
        <div class="form-group">
            <label>Channel</label>
            <strong data-ng-bind="integration.platform"></strong>
        </div>
        <div class="form-group">
            <label>Nickname</label>
            <input type="text" class="form-control" data-ng-model="integration.nickname">
        </div>
        <div class="form-group">
            <label>First name</label>
            <strong data-ng-bind="integration.firstName"></strong>
        </div>
        <div class="form-group">
            <label>Last name</label>
            <strong data-ng-bind="integration.lastName"></strong>
        </div>
        <!--<div class="form-group">
            <label>Custom Signature for response <small>(overrides default signature, even for white label)</small></label>
            <textarea class="form-control" rows="4" data-ng-model="integration.customSignatureForGuests" placeholder="<Use account signature>" disabled></textarea>
        </div>-->
        <hr>

        <div data-ng-include="'app/integrations/views/integration.' + integration.platform + '.client.view.html'"></div>

    </section>
</form>
