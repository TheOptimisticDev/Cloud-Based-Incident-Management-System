'use strict';

//Setting up route
angular.module('accounts').config([
    '$stateProvider',
    '$urlRouterProvider',
	function($stateProvider, $urlRouterProvider) {
		var conversationsSearchParams = ['conversationWith', 'account', 'accountId', 'guest', 'contactId', 'freeText', 'skip'];
		var reservationsSearchParams = ['filter', 'checkIn', 'checkOut', 'canceledAt', 'createdAt', 'guestId', 'account', 'accountId', 'listingId'];

        $urlRouterProvider.when('/accounts/{accountId:[a-fA-F0-9]*}', '/accounts/:accountId/settings');

		// Accounts state routing
		$stateProvider
            .state('account', {
                url: '/accounts/:accountId',
                templateUrl: 'app/accounts/views/account.client.view.html'
            })
            .state('account.settings', {
                url: '/settings',
                title: 'Settings',
                templateUrl: 'app/accounts/views/account/settings.client.view.html'
            })
            .state('account.users', {
                url: '/users',
                title: 'Users',
                templateUrl: 'app/accounts/views/account/users.client.view.html'
            })
            .state('account.billing', {
                url: '/billing',
                title: 'Billing',
                templateUrl: 'app/accounts/views/account/account-billing.client.view.html'
            })
            .state('account.listings', {
                url: '/listings',
                title: 'Listings',
                templateUrl: 'app/accounts/views/account/listings.client.view.html'
            })
            .state('account.reservations', {
                url: '/reservations?' + reservationsSearchParams.join('&'),
                title: 'Reservations',
                templateUrl: 'app/reservations/views/reservations-search.client.view.html'
            })
            .state('account.conversations', {
                url: '/conversations?' + conversationsSearchParams.join('&'),
                title: 'Conversations',
                templateUrl: 'app/conversations/views/conversations-search.client.view.html'
            })
            .state('account.contacts', {
                url: '/contacts?contactId',
                title: 'Contacts',
                templateUrl: 'app/accounts/views/account/account-contacts.client.view.html'
            })
            .state('account.files', {
                url: '/files',
                title: 'Files',
                templateUrl: 'app/accounts/views/account/account-files.client.view.html'
            })
            .state('account.multiCalendar', {
                url: '/multi-calendar',
                title: 'Multi calendar',
                templateUrl: 'app/accounts/views/account/multi-calendar.client.view.html'
            })
            .state('account.integrations', {
                url: '/integrations',
                title: 'Integrations',
                templateUrl: 'app/accounts/views/account/account-integrations.client.view.html'
            })
            .state('account.logs', {
                url: '/logs',
                title: 'Logs',
                templateUrl: 'app/accounts/views/account/account-logs.client.view.html'
            })
            .state('account.receptionists', {
                url: '/receptionists',
                title: 'Receptionists',
                templateUrl: 'app/accounts/views/account/receptionists/main.client.view.html'
            })
            .state('account.postBooking', {
                url: '/post-booking',
                title: 'Post Booking',
                templateUrl: 'app/accounts/views/account/post-booking.client.view.html'
            })
            .state('account.cannedResponses', {
                url: '/saved-replies',
                title: 'Saved replies',
                templateUrl: 'app/accounts/views/account/account-canned-responses.client.view.html'
            })
            .state('account.hooks', {
                url: '/hooks',
                title: 'Hooks',
                templateUrl: 'app/accounts/views/account/account-hooks.client.view.html'
            })
            .state('account.templates', {
                url: '/templates',
                title: 'Templates',
                templateUrl: 'app/accounts/views/account/account-templates.client.view.html'
            })

            .state('account.user', {
                url: '/users/:userId',
                templateUrl: 'app/accounts/views/users/user.client.view.html'
            })
        ;
	}
]);
