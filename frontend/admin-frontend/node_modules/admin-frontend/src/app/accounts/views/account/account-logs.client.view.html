<div data-ng-controller="AccountLogsController" data-ng-init="find()">
    <div class="page-header">
        <form ng-submit="find()">
            <button class="btn btn-lg btn-primary pull-right log-search">Search</button>

            <h1>Log</h1>
            <div>
                <label class="label label-primary">category:</label>
                <span ng-repeat="category in categories">
                    <input type="checkbox" data-ng-model="category.active">
                    <label>{{category.name}}</label>
                </span>
            </div>
            <div ng-show="listingFilterEnabled">
                <label class="label label-primary">listing:</label>
                <select data-ng-model="selectedListingId"
                        ng-options="listing._id as listing.title for listing in listings">
                    <option value="">all</option>
                </select>

                <label>Disable listing filter</label>
                <input type="checkbox" data-ng-model="listingFilterEnabled">
            </div>
            <div ng-show="!listingFilterEnabled">
                <label>Enable listing filter</label>
                <input type="checkbox" data-ng-model="listingFilterEnabled">
            </div>
        </form>
    </div>
    <div class="page-body" ng-show="isLoading">
        <h4><i class="fa fa-spinner fa-spin"></i> Loading results...</h4>
    </div>
    <div class="page-body" ng-if="!isLoading && logs.length<=0">
        <h4>No results for this filter.</h4>
    </div>
    <div class="page-body" ng-show="!isLoading && logs.length>0">
        <div data-ng-include="'app/accounts/views/account/log.client.view.html'"></div>
    </div>
</div>
