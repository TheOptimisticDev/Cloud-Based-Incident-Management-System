<section data-ng-controller="UserController">
    <div class="page-header">
        <div class="pull-right">
            <button type="button" class="btn btn-primary" data-ng-click="openLogModal('user')" title="logs"><i class="fa fa-history"></i></button>
            <a class="btn btn-primary" href="" data-ui-sref="conversations.create({accountId: user.accountId, userId: user._id})">Start a conversation</a>
            <button type="button" class="btn btn-default" data-ng-click="loginToUserMyGuesty()" data-ng-disabled="isLoading">Login to the user's Guesty account</button>
        </div>
        <h1 data-ng-bind="user.fullName"></h1>
    </div>
    <div class="page-body">
        <i class="fa fa-spin fa-spinner" data-ng-if="!user.$resolved"></i>
        <div data-ng-if="user.$resolved">
            <div class="form-group">
                <label>Title</label>
                <div data-ng-bind="user.title || '----'"></div>
            </div>
            <div class="form-group emails">
                <label>Emails</label>
                <div data-ng-repeat="email in user.emails">
                    <span data-ng-bind="email"></span>
                    <i class="fa fa-star" data-ng-if="email === user.email"></i>
                </div>
            </div>
            <div class="form-group">
                <label>Phones</label>
                <div data-ng-repeat="phone in user.phones">
                    <span data-ng-bind="phone"></span>
                    <i class="fa fa-star" data-ng-if="phone === user.phone"></i>
                </div>
            </div>
            <div class="form-group">
                <label>Preferred Contact Method</label>
                <div data-ng-bind="user.preferredContactMethod || '----'"></div>
            </div>
            <div class="form-group">
                <label>Note before contacting</label>
                <div data-ng-bind="user.noteBeforeContacting || '----'"></div>
            </div>
            <div class="form-group">
                <label>Timezone</label>
                <div data-ng-bind="user.timezone || '----'"></div>
            </div>
        </div>
    </div>
</section>
