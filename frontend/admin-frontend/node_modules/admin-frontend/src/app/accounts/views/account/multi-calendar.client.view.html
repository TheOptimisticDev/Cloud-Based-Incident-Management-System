<div data-ng-controller="CustomerMultiCalendarController as multical" data-ng-init="multical.init()">
    <div class="pageheader">
        <div class="pull-right">
            <button type="button" class="btn btn-primary btn-sm" data-ng-click="multical.findAvailability()">
                Find availability
                <span data-ng-show="multical.filteredAvailability">:
                    <span data-ng-bind="multical.filteredAvailability.checkIn|date:'shortDate'"></span>-
                    <span data-ng-bind="multical.filteredAvailability.checkOut|date:'shortDate'"></span>
                    (<span data-ng-bind="multical.filteredAvailability.minOccupancy"></span>)
                </span>
            </button>
            <div class="btn-group" uib-dropdown>
                <button type="button" class="btn btn-default dropdown-toggle btn-sm" uib-dropdown-toggle>
                    <i class="fa fa-filter"></i>
                    Filter listed:
                    <strong data-ng-if="multical.filteredListed===null">All</strong>
                    <strong data-ng-if="multical.filteredListed===true">Listed</strong>
                    <strong data-ng-if="multical.filteredListed===false">Unlisted</strong>
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu right-aligned" role="menu">
                    <li><a href="" data-ng-click="multical.filterByListed(null)">All</a></li>
                    <li><a href="" data-ng-click="multical.filterByListed(true)">Listed</a></li>
                    <li><a href="" data-ng-click="multical.filterByListed(false)">Unlisted</a></li>
                </ul>
            </div>
            <div class="btn-group" uib-dropdown>
                <button type="button" class="btn btn-default dropdown-toggle btn-sm" uib-dropdown-toggle>
                    <i class="fa fa-filter"></i>
                    Filter city:
                    <strong data-ng-if="!multical.filteredCity">All</strong>
                    <strong data-ng-bind="multical.filteredCity"></strong> <span class="caret"></span>
                </button>
                <ul class="dropdown-menu right-aligned" role="menu">
                    <li><a href="" data-ng-click="multical.filterByCity(null)">All</a></li>
                    <li data-ng-repeat="city in multical.filterCityOptions" data-ng-click="multical.filterByCity(city)">
                        <a href="" data-ng-bind="city"></a>
                    </li>
                </ul>
            </div>
            <div class="btn-group" uib-dropdown>
                <button type="button" class="btn btn-default dropdown-toggle btn-sm" uib-dropdown-toggle>
                    <i class="fa fa-filter"></i>
                    Filter tag:
                    <strong data-ng-if="!multical.filteredTag">All</strong>
                    <strong data-ng-bind="multical.filteredTag"></strong> <span class="caret"></span>
                </button>
                <ul class="dropdown-menu right-aligned" role="menu">
                    <li><a href="" data-ng-click="multical.filterByTag(null)">All</a></li>
                    <li data-ng-repeat="item in multical.filterTagOptions" data-ng-click="multical.filterByTag(item)">
                        <a href="" data-ng-bind="item"></a>
                    </li>
                </ul>
            </div>
            <div class="btn-group" uib-dropdown>
                <button type="button" class="btn btn-default dropdown-toggle btn-sm" uib-dropdown-toggle>
                    <i class="fa fa-sort-amount-asc"></i>
                    Sort by:
                    <strong data-ng-bind="multical.sortBy.title"></strong> <span class="caret"></span>
                </button>
                <ul class="dropdown-menu right-aligned" role="menu">
                    <li data-ng-repeat="option in multical.sortOptions" data-ng-click="multical.changeSorting(option)">
                        <a href="" data-ng-bind="option.title"></a>
                    </li>
                </ul>
            </div>
        </div>
        <h2>Multi-Calendar</h2>
    </div>
    <div class="main-content">
        <div data-ng-if="multical.calendarConfig" ui-calendar="multical.calendarConfig" data-ng-model="multical.calendarData"></div>

        <div class="ng-table-pager" style="width:300px;" data-ng-if="multical.listingsRequest.count/15>1">
            <uib-pagination data-ng-model="multical.listingPage" items-per-page="15" total-items="multical.listingsRequest.count" max-size="6" ng-change="multical.refetch()" next-text="»" previous-text="«"></uib-pagination>
        </div>
    </div>

</div>
