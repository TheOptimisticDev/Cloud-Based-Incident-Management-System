'use strict';

// Reservations controller
angular.module('reservations').controller('ReservationBillingBoxController', [
    '$scope',
    'notify',
    'InvoiceItemsModalService',
    '$rootScope',
    function($scope, notify, InvoiceItemsModalService, $rootScope) {

        /**
         * opens a modal for creating a new invoice item for reservation
         */
        $scope.openInvoiceItemModal = function() {
            InvoiceItemsModalService.openCreateInvoiceItemModal($scope.reservation.accountId, $scope.reservation._id).then(function() {
                $rootScope.$broadcast('reservation:invoice-items:updated', $scope.reservation._id);
            });
        };
    }
]);
