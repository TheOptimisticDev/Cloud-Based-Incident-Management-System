<div class="panel panel-default" data-ng-controller="ReservationLogBoxController">
    <div class="panel-heading">
        <span>Log</span>
    </div>
    <table class="table" data-ng-if="logs.length">
        <tbody>
            <tr data-ng-repeat="log in logs">
                <td data-ng-bind="log.event"></td>
                <td><span data-ng-if="log.by">by {{log.by}}</span></td>
                <td data-am-time-ago="log.at" title="{{log.at|date:'short'}}"></td>
                <td>
                    <span data-ng-bind="log.description"></span>
                    <div data-ng-if="log.changes">
                        <div data-ng-repeat="change in log.changes">
                            <span class="text-warning">{{change.field}}:</span>
                            <ul>
                                <li data-ng-repeat="diff in change.diff">
                                    <span class="bg-success" data-ng-show="diff.added" data-ng-bind-html="diff.value | convertToHtml | trustedHtml"></span>
                                    <span class="bg-danger" data-ng-show="diff.removed" data-ng-bind-html="diff.value | convertToHtml | trustedHtml"></span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
