<form class="form-horizontal" name="alterReservationForm" data-ng-submit="save()">
    <div class="modal-header">
        <h3 class="modal-title">Alter Reservation</h3>
    </div>
    <div class="modal-body">
        <div class="row form-group">
            <div class="col-sm-6">
                <label>Listing:</label>
                <div>
                    <ui-select ng-model="formData.listing" class="with-pics">
                        <ui-select-match placeholder="Select a listing">
                            <span class="label label-info" data-ng-if="$select.selected.nickname" data-ng-bind="$select.selected.nickname"></span>
                            <span data-ng-bind="$select.selected.title || 'Untitled'" title="{{$select.selected.address.full}}"></span>
                        </ui-select-match>
                        <ui-select-choices repeat="item in listings"
                                           refresh="loadListings($select.search)"
                                           refresh-delay="250">
                            <img class="pull-right" data-ng-if="item.picture.thumbnail" data-ng-src="{{item.picture.thumbnail}}">
                            <div class="truncate">
                                <span data-ng-if="item.nickname" class="label label-info" data-ng-bind="item.nickname"></span>
                                <strong data-ng-bind="item.title"></strong>
                            </div>
                            <div class="truncate" data-ng-bind="item.address.full"></div>
                        </ui-select-choices>
                    </ui-select>
                </div>
            </div>
            <div class="col-sm-6">
                <label>Guests:</label>
                <select class="form-control" data-ng-model="formData.guests" data-ng-options="guest for guest in guestsOptions"></select>
            </div>
        </div>
        <div class="row form-group">
            <div class="col-sm-6">
                <label>Check in:</label>
                <g-datepicker data-ng-model="formData.startDate"></g-datepicker>
            </div>
            <div class="col-sm-6">
                <label>Check out:</label>
                <g-datepicker data-ng-model="formData.endDate"></g-datepicker>
            </div>
        </div>
        <div class="row form-group">
            <div class="col-sm-6">
                <label>Price:</label>
                <div class="input-group">
                    <input type="number" class="form-control" data-ng-model="formData.price" required="required">
                    <span class="input-group-addon"><i class="fa fa-usd"></i></span>
                    <span class="input-group-btn"><button class="btn btn-default" data-ng-disabled="disableBtns" data-ng-click="checkAlterPrice($event)">Check Price <i data-ng-if="isLoadingPrice" class="fa fa-circle-o-notch fa-spin"></i></button></span>
                </div>
            </div>
        </div>

    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" type="submit" data-ng-disabled="issueForm.$invalid||disableBtns">
            <i data-ng-if="isSavingAlter" class="fa fa-circle-o-notch fa-spin"></i> Sav<span data-ng-if="!isSavingAlter">e</span><span data-ng-if="isSavingAlter">ing...</span>
        </button>
        <button class="btn btn-warning" data-ng-click="cancel()" data-ng-disabled="disableBtns">Cancel</button>
    </div>
</form>
