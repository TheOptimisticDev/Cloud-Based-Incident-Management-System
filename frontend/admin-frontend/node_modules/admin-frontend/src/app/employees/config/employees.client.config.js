'use strict';

// Config HTTP Error Handling
angular.module('employees').config(['$httpProvider',
	function ($httpProvider) {
		// Set the httpProvider "not authorized" interceptor
		$httpProvider.interceptors.push([
            '$q',
            'SweetAlert',
			function ($q, SweetAlert) {
				return {
					responseError: function (rejection) {
						switch (rejection.status) {
							case 401:
								// Deauthenticate the global user
                                SweetAlert.swal('Not authenticated', null, 'error');
								break;
							case 403:
								// Add unauthorized behaviour
                                SweetAlert.swal('Not authorized', null, 'error');
								break;
						}

						return $q.reject(rejection);
					}
				};
			}
		]);
	}
]);
