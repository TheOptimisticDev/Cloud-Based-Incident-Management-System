'use strict';

// Employees service used for communicating with the employees REST endpoint
angular.module('employees').factory('Employees', [
    '$resource',
    'AppConfig',
	function($resource, AppConfig) {

        var baseApi2Url = AppConfig.API_URL;
        var baseApiOldUrl = AppConfig.API_OLD_URL;

		return $resource(baseApiOldUrl + 'employees/:employeeId/:action', {
            employeeId: '@_id'
        }, {
            query: {
                isArray: false
            },
            me: {
                method: 'GET',
                params: {
                    employeeId: 'me'
                },
                cache: true
            },
            save: {
                method: 'POST'
            },
			update: {
				method: 'PUT'
			},
            listOfEmployeesInInbox: {
                method: 'GET',
                isArray: true,
                params: {
                    action: 'in-inbox'
                }
            },
            myTickets: {
                method: 'GET',
                url: baseApiOldUrl + 'employees/my-tickets'
            }
		});
	}
]);
