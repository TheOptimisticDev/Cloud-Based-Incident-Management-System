/* global _, moment */
'use strict';

// Shift List controller
angular.module('admin').controller('MyTicketsController', [
    '$scope',
    'Employees',
    function($scope, Employees) {

        var self = this;

        self.limit = 50;

        self.loadList = function(){
            var q = {
                fields: 'completedAt accountName accountCategorization',
                limit: self.limit,
                skip: (self.page-1) * self.limit
            };

            self.tickets = Employees.myTickets(q, function(){
                self.counter = self.tickets.count;
            });
        };


        self.init = function(){
            self.page = 1;

            self.loadList();
        };


    }
]);
