<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">
            <small class="pull-right" am-time-ago="post.createdAt"></small>
            <strong data-ng-bind="post.createdBy"></strong>:
            <span data-ng-bind="post.title"></span>
        </h3>
    </div>
    <div class="panel-body">
        <div class="row">
            <div class="col-md-12" data-ng-if="post.body" data-ng-bind-html="trustAsHtml(post.body)"></div>
            <div class="col-md-6" data-ng-if="post.bodyLeft" data-ng-bind-html="trustAsHtml(post.bodyLeft)"></div>
            <div class="col-md-6" data-ng-if="post.bodyRight" data-ng-bind-html="trustAsHtml(post.bodyRight)"></div>
        </div>
        <div class="form-group text-muted">
            Link to this post: <a data-ui-sref="team.updates-post({postId: post._id})">https://{{locationHost}}/team/updates/{{post._id}}</a>
        </div>
    </div>
    <div class="panel-footer">
        <div class="row">
            <div class="col-sm-8">
                <div>
                    <strong>Seen by:</strong>
                    <span class="text-muted" data-ng-if="!post.confirmedWatching.length">No one</span>
                    <span class="badge" data-ng-repeat="seen in post.confirmedWatching" data-ng-bind="seen.name" title="{{seen.at|date:'short'}}"></span>
                </div>
                <div>
                    <strong>Will watch later:</strong>
                    <span class="text-muted" data-ng-if="!post.watchLater.length">No one</span>
                    <span class="badge" data-ng-repeat="seen in post.watchLater" data-ng-bind="seen.name" title="{{seen.at|date:'short'}}"></span>
                </div>
            </div>
            <div class="col-sm-4 text-right">
                <button role="button" class="btn btn-default" data-ng-hide="isOnList(post, 'watchLater')" data-ng-click="addToList(post, 'watchLater')">Watch Later</button>
                <button role="button" class="btn btn-primary" data-ng-hide="isOnList(post, 'confirmedWatching')" data-ng-click="addToList(post, 'confirmedWatching')">Confirm watching</button>
            </div>
        </div>
    </div>
</div>
