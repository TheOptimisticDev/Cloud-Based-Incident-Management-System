'use strict';

var baseTitle = '';

// Config HTTP Error Handling
angular.module('core').config([
	function() {
		baseTitle = window.document.title;
	}
]);

angular.module('core').run(['$rootScope', '$window', 'Menus',
	function($rootScope, $window, Menus) {
		$rootScope.$on('$stateChangeSuccess', function(evt, toState, toParams, fromState, fromParams) {
			$window.document.title = baseTitle;
			if (toState.title) {
				$window.document.title = toState.title + ' - ' + baseTitle;
			}
		});

		Menus.addMenuItem('topbar', {
			title: 'Company',
			state: 'company',
			position: 7,
			type: 'dropdown'
		});
		Menus.addSubMenuItem('topbar', 'company', {
			title: 'Facebook group',
			url: 'https://www.facebook.com/groups/968815789809947/'
		});
		Menus.addSubMenuItem('topbar', 'company', {
			title: 'Directory',
			url: 'https://airtable.com/shrqK4kXLhVevJNGC'
		});
		Menus.addSubMenuItem('topbar', 'company', {
			title: 'Gallery',
			url: 'https://airtable.com/shrHz542xJhfzPtfo'
		});

	}
]);
