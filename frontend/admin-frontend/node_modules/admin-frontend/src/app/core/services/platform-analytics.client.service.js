'use strict';

angular.module('core').factory('PlatformAnalytics', [
    '$http',
    'AppConfig',
    function($http, AppConfig) {

        var baseApi2Url = AppConfig.API_URL;
        var baseApiOldUrl = AppConfig.API_OLD_URL;

        return {
            track: function(data, cb){
                $http.post(baseApiOldUrl + 'analytics/platform/track', data)
                    .success(function(res){
                        if (cb) cb(null, res);
                    }).error(function(err){
                        if (cb) cb(err);
                    });
            },
            identify: function(data, cb){
                $http.post(baseApiOldUrl + 'analytics/platform/identify', data)
                    .success(function(res){
                        if (cb) cb(null, res);
                    }).error(function(err){
                        if (cb) cb(err);
                    });
            }
        };
    }
]);
