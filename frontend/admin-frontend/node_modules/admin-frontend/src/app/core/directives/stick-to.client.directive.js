/* global $ */
'use strict';

// directive to stick an element into a specific border of its parent element
// used in multi calendar.
angular.module('core')
    .directive('stickTo', [function() {

        function basicStyles(el) {
            $(el).css({
                position: 'absolute',
                left: 0,
                right: 0,
                top: 0
            });
        }

        var stickTo = {
            top: function (el) {
                $(el).parent().on('scroll', function(event) {
                    $(el).css('top', event.target.scrollTop);
                });
            },
            left: function(el) {
                $(el).parent().on('scroll', function(event) {
                    $(el).css('left', event.target.scrollLeft);
                });
            }
        };

        return {
            restrict: 'A',
            link: function(scope, el, attr) {
                if(stickTo[attr.stickTo]) {
                    basicStyles(el);
                    stickTo[attr.stickTo](el);
                }
            }
        };
    }]);
