'use strict';

//Setting up route
angular.module('conversations').config(['$stateProvider',
    function ($stateProvider) {
        var searchParams = ['conversationWith', 'account', 'accountId', 'userId', 'guest', 'contactId', 'freeText', 'skip'];
        var conversationParams = ['accountId', 'userId', 'reservationId', 'contactId'];

        // Conversations state routing
        $stateProvider.
            state('conversations', {
                abstract: true,
                url: '/conversations',
                template: '<ui-view/>'
            }).
            state('conversations.search', {
                url: '/search?' + searchParams.join('&'),
                title: 'Conversations Search',
                templateUrl: 'app/conversations/views/conversations-search.client.view.html'
            }).
            state('conversations.create', {
                url: '/create?' + conversationParams.join('&'),
                title: 'Conversations Create',
                templateUrl: 'app/conversations/views/conversation/conversation.client.view.html'
            }).
            state('conversations.conversation', {
                url: '/:conversationId',
                title: 'Conversation',
                templateUrl: 'app/conversations/views/conversation/conversation.client.view.html'
            });
    }
]);
