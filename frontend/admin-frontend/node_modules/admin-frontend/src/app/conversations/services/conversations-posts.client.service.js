'use strict';

//Conversations posts service used to communicate Conversations posts REST endpoints
angular.module('conversations').factory('ConversationsPosts', [
    '$resource',
    'AppConfig',
	function($resource, AppConfig) {

        var baseApi2Url = AppConfig.API_URL;
        var baseApiOldUrl = AppConfig.API_OLD_URL;

		return $resource(baseApiOldUrl + 'conversations/:conversationId/posts/:postId/:action', {
			postId: '@postId',
			conversationId: '@conversationId'
		}, {
			update: {
				method: 'PUT'
			},
            report: {
                method: 'POST',
                params: {
                    action: 'report'
                }
            },
            resend: {
                method: 'POST',
                params: {
                    action: 'resend'
                }
            },
            feedback: {
                method: 'POST',
                params: {
                    action: 'feedback'
                }
            }
		});
	}
]);
