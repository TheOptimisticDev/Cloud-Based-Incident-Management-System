'use strict';

angular.module('listings').factory('Listing', Listing)
/** @ngInject **/
function Listing($resource, AppConfig){
	var baseApi2Url = AppConfig.API_URL;

	return $resource(baseApi2Url + 'listings/:listingId/:action', {
		listingId: '@_id'
	}, {
		query: {
			isArray: false
		},
		save: {
			method: 'PUT'
		},
		files: {
			isArray: true,
			params: { action: 'files' }
		},
		addIntegration: {
			method: 'POST',
			params: {
				action: 'integrations'
			}
		},
		cities: {
			method: 'GET',
			isArray: true,
			params: {
				action: 'cities'
			}
		},
		tags: {
			method: 'GET',
			isArray: true,
			params: {
				action: 'tags'
			}
		},
		updateReservationCommission: {
			method: 'POST',
			params: {
				action: 'update-reservations-commission'
			}
		}
	});
}
