<section data-ng-controller="ListingReceptionistsScreeningController">
    <form name="frm" role="form" autocomplete="off" data-ng-submit="saveForm(frm, ['receptionistsService.screening'])">
        <div class="panel panel-default">
            <div class="panel-body">
                <div class="form-group">
                    <span>Active</span>
                    <span class="label label-success" data-ng-if="listing.receptionistsService.screening.goOverChecklist">Yes</span>
                    <span class="label label-danger" data-ng-if="!listing.receptionistsService.screening.goOverChecklist">No</span>
                </div>
                <div class="form-group">
                    <label>Listing's checklist</label>
                    <ul class="prebooking-list">
                        <li data-ng-repeat="listItem in listing.receptionistsService.screening.checklist" contenteditable="true" data-ng-blur="editedPreBookingItem($index, $event, frm)">
                            <span class="pull-right label label-warning" data-ng-if="listItem.isProactive">Proactive</span>
                            <span data-ng-bind="listItem.item"></span>
                        </li>
                        <li contenteditable="true" data-ng-blur="addedPreBookingItem($event, frm)"></li>
                    </ul>
                </div>
                <div class="form-group">
                    <label>Account's checklist</label>
                    <ul class="prebooking-list" data-ng-if="account.receptionistsService.screening.checklist.length">
                        <li data-ng-repeat="listItem in account.receptionistsService.screening.checklist">
                            <span class="pull-right label label-warning" data-ng-if="listItem.isProactive">Proactive</span>
                            <span data-ng-bind="listItem.item"></span>
                        </li>
                    </ul>
                    <p class="text-muted" data-ng-if="!account.receptionistsService.screening.checklist.length">None.</p>
                </div>
                <div class="form-group">
                    <label>If guests <span class="text-success">do fit</span> the criteria:</label>
                    <div class="btn-group" uib-dropdown>
                        <button type="button" class="btn btn-default dropdown-toggle btn-sm" uib-dropdown-toggle>
                            <span data-ng-show="listing.receptionistsService.screening.ifSuccess==='approve'">Approve (or pre-approve)</span>
                            <span data-ng-show="listing.receptionistsService.screening.ifSuccess==='ask'">Ask</span>
                            <span data-ng-show="listing.receptionistsService.screening.ifSuccess==='flag'">Flag</span>
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu right-aligned" role="menu" uib-dropdown-menu>
                            <li><a href="" data-ng-click="setValue('receptionistsService.screening.ifSuccess', 'approve', frm)">Approve (or pre-approve)</a></li>
                            <li><a href="" data-ng-click="setValue('receptionistsService.screening.ifSuccess', 'ask', frm)">Ask</a></li>
                            <li><a href="" data-ng-click="setValue('receptionistsService.screening.ifSuccess', 'flag', frm)">Flag</a></li>
                        </ul>
                    </div>
                    <label>and if they <span class="text-danger">don't</span>:</label>
                    <div class="btn-group" uib-dropdown>
                        <button type="button" class="btn btn-default dropdown-toggle btn-sm" uib-dropdown-toggle>
                            <span data-ng-show="listing.receptionistsService.screening.ifFailed==='decline'">Decline</span>
                            <span data-ng-show="listing.receptionistsService.screening.ifFailed==='flag'">Flag</span>
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu right-aligned" role="menu" uib-dropdown-menu>
                            <li><a href="" data-ng-click="setValue('receptionistsService.screening.ifFailed', 'flag', frm)">Flag</a></li>
                            <li><a href="" data-ng-click="setValue('receptionistsService.screening.ifFailed', 'decline', frm)">Decline</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="panel-footer text-right" data-ng-show="frm.$dirty">
                <button type="submit" data-ng-disabled="frm.$invalid || frm.$submitted" class="btn btn-primary">
                    Save
                    <i data-ng-if="frm.$submitted" class="fa fa-spinner fa-spin"></i>
                </button>
            </div>
        </div>
    </form>
</section>
