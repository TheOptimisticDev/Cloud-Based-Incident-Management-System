<div data-ng-controller="ListingSettingsController as settings" data-ng-init="init()">
    <form name="form" data-ng-submit="save(listing, form)">
        <div class="page-header">
            <div class="pull-right" data-ng-show="form.$dirty">
                <small class="text-warning">Changes were made</small>
                <small class="text-danger" data-ng-show="form.$invalid">Form has errors.</small>
                <button class="btn btn-save" type="submit" data-ng-disabled="form.$invalid"><i class="fa fa-save"></i>
                    Save
                </button>
            </div>
            <h1>
                <button type="button" class="btn btn-primary pull-right" ng-click="openLogModal('settings')"
                        title="logs"><i class="fa fa-history"></i></button>
                <span>Settings</span>
            </h1>
        </div>

        <div class="panel panel-default">
            <div class="panel-body">
                <div class="form-group">
                    <strong>Is Listed:</strong>
                    <i data-ng-if="listing.isListed" class="fa fa-2x fa-check text-success">Yes</i>
                    <i data-ng-if="!listing.isListed" class="fa fa-2x fa-times text-danger">No</i>
                </div>
            </div>
        </div>
        <div class="panel panel-default">
            <div class="panel-body">
                <div class="form-group">
                    <strong>Is virtual?</strong>
                    <label class="switch switch-warning force">
                        <input class="switch-input" name="isVirtual" ng-checked="listing.isVirtual"
                               ng-model="listing.isVirtual" type="checkbox">
                        <span class="switch-label" data-off="No" data-on="Yes"></span>
                        <span class="switch-handle"></span>
                    </label>
                </div>

                <div class="form-group">
                    <strong>Nickname:</strong>
                    <span data-ng-bind="listing.nickname"></span>
                </div>
            </div>
        </div>
        <payment-plan plan-data="listing.plan" is-listing-settings="true" special-placeholder="'same as account'">
            <account-preferences plan-data="account.plan"></account-preferences>
        </payment-plan>
    </form>
</div>
