<div data-ng-controller="ListingPropertyController" data-ng-init="init()">
    <form name="form" data-ng-submit="save(listing, form)">
        <div class="page-header">
            <div class="pull-right" data-ng-show="form.$dirty">
                <small class="text-warning">Changes were made</small>
                <small class="text-danger" data-ng-show="form.$invalid">Form has errors.</small>
                <button class="btn btn-save" type="submit" data-ng-disabled="form.$invalid"><i class="fa fa-save"></i> Save</button>
            </div>
            <h1>
                <button type="button" class="btn btn-primary pull-right" ng-click="openLogModal('property')" title="logs"><i class="fa fa-history"></i></button>
                <span>Property</span>
            </h1>
        </div>
        <!-- lock the form until the platform can bw synced with the changes here! -->
        <fieldset>
            <div class="panel panel-default" data-ng-if="customFields.length">
                <div class="panel-heading">
                    <h3 class="panel-title">Extra Information</h3>
                </div>
                <div class="panel-body">
                    <div data-ng-repeat="field in customFields">
                        <div class="form-group" data-ng-if="field.value">
                            <label data-ng-bind="field.key"></label>
                            <div data-ng-if="['text', 'number', 'longtext', 'enum'].indexOf(field.type)!==-1" data-ng-bind="field.value"></div>
                            <div data-ng-if="field.type==='boolean'" data-ng-bind="field.value?'Yes':'No'"></div>
                            <div data-ng-if="field.type==='date'" data-ng-bind="field.value|date:'shortDate'"></div>
                            <div data-ng-if="field.type==='time'" data-ng-bind="field.value|dateFromString|date:'shortTime'"></div>
                            <div data-ng-if="field.type==='user' || field.type==='contact'" data-ng-bind="field.displayValue"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Address</h3>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-8">
                            <div class="row">
                                <div class="col-md-6 form-group">
                                    <strong>Street</strong>
                                    <input readonly="readonly" type="text" class="form-control" data-ng-model="listing.address.street">
                                </div>
                                <div class="col-md-6 form-group">
                                    <strong>Apartment</strong>
                                    <input readonly="readonly" type="text" class="form-control" data-ng-model="listing.address.apt">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 form-group">
                                    <strong>City</strong>
                                    <input readonly="readonly" type="text" class="form-control" data-ng-model="listing.address.city">
                                </div>
                                <div class="col-md-6 form-group">
                                    <strong>State</strong>
                                    <input readonly="readonly" type="text" class="form-control" data-ng-model="listing.address.state">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 form-group">
                                    <strong>Country</strong>
                                    <input readonly="readonly" type="text" class="form-control" data-ng-model="listing.address.country">
                                </div>
                                <div class="col-md-6 form-group">
                                    <strong>Zipcode</strong>
                                    <input readonly="readonly" type="text" class="form-control" data-ng-model="listing.address.zipcode">
                                </div>
                            </div>
                            <div class="form-group">
                                <strong>Timezone</strong> {{listing.timezone}}
                            </div>
                        </div>
                        <div class="col-md-4">
                            <map zoom="16" center="[{{listing.address.lat}}, {{listing.address.lng}}]" disable-default-u-i="true" draggable="true" keyboard-shortcuts="false" max-zoom="20" min-zoom="5"></map>
                        </div>
                    </div>
                </div>
            </div>

            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Public Description</h3>
                </div>
                <div class="panel-body">
                    <div class="form-group">
                        <strong>Title</strong>
                        <input readonly="readonly" type="text" class="form-control" data-ng-model="listing.title">
                    </div>
                    <hr>
                    <div class="form-group">
                        <strong>Summary</strong>
                        <textarea readonly="readonly" data-g-autoresize="true" class="form-control" data-ng-model="listing.publicDescription.summary"></textarea>
                    </div>
                    <div class="form-group">
                        <strong>Space</strong>
                        <textarea readonly="readonly" data-g-autoresize="true" class="form-control" data-ng-model="listing.publicDescription.space"></textarea>
                    </div>
                    <div class="form-group">
                        <strong>Access</strong>
                        <textarea readonly="readonly" data-g-autoresize="true" class="form-control" data-ng-model="listing.publicDescription.access"></textarea>
                    </div>
                    <div class="form-group">
                        <strong>Neighborhood</strong>
                        <textarea readonly="readonly" data-g-autoresize="true" class="form-control" data-ng-model="listing.publicDescription.neighborhood"></textarea>
                    </div>
                    <div class="form-group">
                        <strong>Transit</strong>
                        <textarea readonly="readonly" data-g-autoresize="true" class="form-control" data-ng-model="listing.publicDescription.transit"></textarea>
                    </div>
                    <div class="form-group">
                        <strong>Notes</strong>
                        <textarea readonly="readonly" data-g-autoresize="true" class="form-control" data-ng-model="listing.publicDescription.notes"></textarea>
                    </div>
                    <div class="form-group">
                        <strong>House Rules</strong>
                        <textarea readonly="readonly" data-g-autoresize="true" class="form-control" data-ng-model="listing.publicDescription.houseRules"></textarea>
                    </div>
                    <div class="form-group">
                        <strong>Interaction With Guests</strong>
                        <textarea readonly="readonly" data-g-autoresize="true" class="form-control" data-ng-model="listing.publicDescription.interactionWithGuests"></textarea>
                    </div>
                </div>
            </div>

            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Private Description</h3>
                </div>
                <div class="panel-body">
                    <div class="form-group">
                        <strong>Directions</strong>
                        <textarea readonly="readonly" data-g-autoresize="true" class="form-control" data-ng-model="listing.privateDescription.directions"></textarea>
                    </div>
                    <div class="form-group">
                        <strong>House Manual</strong>
                        <textarea readonly="readonly" data-g-autoresize="true" class="form-control" data-ng-model="listing.privateDescription.houseManual"></textarea>
                    </div>
                    <div class="row form-group">
                        <div class="col-lg-6">
                            <strong>Wifi Network</strong>
                            <input type="text" readonly="readonly" class="form-control" data-ng-model="listing.privateDescription.wifi.network">
                        </div>
                        <div class="col-lg-6">
                            <strong>Wifi Password</strong>
                            <input type="text" readonly="readonly" class="form-control" data-ng-model="listing.privateDescription.wifi.password">
                        </div>
                    </div>
                </div>
            </div>

            <div class="panel panel-default listing-pictures">
                <div class="panel-heading">
                    <h3 class="panel-title">Pictures</h3>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div data-ng-repeat="picture in listing.pictures" class="col-md-3 img-with-description">
                            <img class="img-thumbnail" data-ng-src="{{picture.thumbnail}}" ng-click="openGallery(listing)">
                            <div class="description" data-ng-bind="picture.caption"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Terms</h3>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-6 form-group">
                            <strong>Minimum Nights</strong>
                            <div class="input-group">
                                <div class="input-group-addon"><i class="fa fa-moon-o"></i>
                                </div>
                                <input readonly="readonly" type="number" min="1" max="1000" class="form-control" data-ng-model="listing.terms.minNights">
                            </div>
                        </div>
                        <div class="col-md-6 form-group">
                            <strong>Maximum Nights</strong>
                            <div class="input-group">
                                <div class="input-group-addon"><i class="fa fa-moon-o"></i>
                                </div>
                                <input readonly="readonly" type="number" min="1" max="9999" class="form-control" data-ng-model="listing.terms.maxNights">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <strong>Cancellation</strong> {{listing.terms.cancellation}}
                    </div>
                </div>
            </div>

            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Pricing</h3>
                </div>
                <div class="panel-body">
                    <div class="form-group">
                        <strong>Currency</strong>
                        <div>{{listing.prices.currency}}</div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 form-group">
                            <strong>Base Price</strong>
                            <div class="input-group">
                                <div class="input-group-addon">{{listing.prices.currency}}</div>
                                <input readonly="readonly" type="number" min="1" max="1000" class="form-control" data-ng-model="listing.prices.basePrice">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 form-group">
                            <strong>Guests Included in Price</strong>
                            <div class="input-group">
                                <div class="input-group-addon"><i class="fa fa-user"></i>
                                </div>
                                <input readonly="readonly" type="number" min="1" max="1000" class="form-control" data-ng-model="listing.prices.guestsIncludedInRegularFee">
                            </div>
                        </div>
                        <div class="col-md-6 form-group">
                            <strong>Extra Person Fee</strong>
                            <div class="input-group">
                                <div class="input-group-addon">{{listing.prices.currency}}</div>
                                <input readonly="readonly" type="number" min="0" max="1000" class="form-control" data-ng-model="listing.prices.extraPersonFee">
                            </div>
                        </div>
                        <div class="col-md-6 form-group">
                            <strong>Cleaning Fee</strong>
                            <div class="input-group">
                                <div class="input-group-addon">{{listing.prices.currency}}</div>
                                <input readonly="readonly" type="number" min="0" max="1000" class="form-control" data-ng-model="listing.prices.cleaningFee">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-6">
                            <strong>Security Deposit Fee</strong>
                            <div class="input-group">
                                <div class="input-group-addon">{{listing.prices.currency}}</div>
                                <input readonly="readonly" type="number" min="0" max="1000" class="form-control" data-ng-model="listing.prices.securityDepositFee">
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Times</h3>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-6 form-group">
                            <strong>Default Check In Time</strong>
                            <div>{{listing.defaultCheckInTime}}</div>
                            <div>
                                <input readonly="readonly" type="checkbox" data-ng-model="listing.checkInTimeIsStrict"> Is strict</div>
                        </div>
                        <div class="col-md-6 form-group">
                            <strong>Default Check Out Time</strong>
                            <div>{{listing.defaultCheckOutTime}}</div>
                            <div>
                                <input readonly="readonly" type="checkbox" data-ng-model="listing.checkOutTimeIsStrict"> Is strict</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel panel-default listing-pictures">
                <div class="panel-heading">
                    <h3 class="panel-title">Amenities</h3>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div data-ng-repeat="amenity in listing.amenities" data-ng-bind="amenity"></div>
                        </div>
                        <div class="col-md-6">
                            <div data-ng-repeat="amenity in listing.amenitiesNotIncluded" class="text-danger">
                                <s data-ng-bind="amenity"></s>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Instant Reservation</h3>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-6 form-group">
                            <strong>Enabled</strong>
                            <label class="switch switch-warning force">
                                <input readonly="readonly" data-ng-disabled="true" class="switch-input" name="isVirtual" data-ng-checked="listing.instantBookable.enabled" data-ng-model="listing.instantBookable.enabled" type="checkbox">
                                <span class="switch-label" data-off="No" data-on="Yes"></span>
                                <span class="switch-handle"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!--
            createdAt: Date,
        importedAt: Date,
        importingPlatform: String,

            title: String,
        propertyType: String,
        roomType: String,
        bedType : String,
        accommodates : Number,
        bedrooms : Number,
        beds : Number,
        bathrooms : Number,
        areaSquareFeet: Number,

    instantBookable : {
            visibility : String,
            leadTime : Number
        },

        amenities : [String],
        amenitiesNotIncluded : [String],

            -->
        </fieldset>
    </form>
</div>
