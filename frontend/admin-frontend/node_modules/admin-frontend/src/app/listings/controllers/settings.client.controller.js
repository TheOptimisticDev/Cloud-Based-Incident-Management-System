'use strict';

// Listing controller
angular.module('listings').controller('ListingSettingsController', [
    '$scope',
	'$timeout',
    '$stateParams',
    '$location',
    'Listing',
    'CommonService',
    'SweetAlert',
	function($scope, $timeout, $stateParams, $location, Listing, CommonService, SweetAlert) {

        var self = this;

        $scope.plans = ['Commission', 'SaaS Monthly'];

		// Copy listing from parent scope
		$scope.init = function(){
            // to make the update call faster, use only the attributes needed for this controller
			$scope.listing = _.pick($scope.$parent.listing, ['_id', 'isListed', 'isVirtual', 'nickname', 'active', 'pricePlan', 'pricePlanMinimum', 'plan', 'commission', 'SaaS']);
		};

	}
]);
