'use strict';

// Listing modal controller
angular.module('listings').controller('ListingModalController', ['$scope', 'Listing','Accounts', 'params',
    function($scope, Listing, Accounts, params) {

        // check if got the listing object injected
        if(params.listing) {
            $scope.listing = params.listing;
        } else {
            // Load listing
            $scope.listing = Listing.get({
                listingId: params.listingId
            }, function() {
                $scope.account = Accounts.get({
                    accountId: $scope.listing.accountId
                });
            });
        }
    }
]);
