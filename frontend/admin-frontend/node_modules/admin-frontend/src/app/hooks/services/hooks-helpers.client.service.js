'use strict';

angular.module('hooks').factory('HooksHelpersService', [
    function() {
        return {
            getHooksConstants: function() {
                return {
                    actions: [
                        {
                            value: 'send platform message',
                            displayName: 'Send platform message',
                            target: ['guest'],
                            message: 'plain'
                        },
                        {
                            value: 'send email',
                            displayName: 'Send Email',
                            target: ['guest', 'contact'],
                            subjectNeeded: true,
                            message: 'html'
                        },
                        {
                            value: 'send sms',
                            displayName: 'Send SMS - Avoid for now',
                            target: ['guest', 'contact'],
                            message: 'plain'
                        },
                        {
                            value: 'receptionists dashboard',
                            displayName: 'Open ticket for receptionists',
                            target: null,
                            message: 'plain'
                        },
                        {
                            value: 'post bookings dashboard',
                            displayName: 'Open ticket for post bookings',
                            target: null,
                            message: 'plain'
                        },
                        {
                            value: 'internal notes',
                            displayName: 'Internal notes',
                            target: null,
                            message: 'plain'
                        }
                    ],
                    targets: {
                        guest:      'Guest',
                        user:       'User',
                        contact:    'Contact'
                    },
                    events: [
                        {
                            value:                      'reservation confirmed',
                            displayName:                'Reservation Confirmed'
                        },
                        {
                            value:                      'check in',
                            displayName:                'Check In',
                            canScheduleHookBeforeEvent: true
                        },
                        {
                            value:                      'check out',
                            displayName:                'Check Out',
                            canScheduleHookBeforeEvent: true
                        },
                        {
                            value:                      'reservation canceled',
                            displayName:                'Reservation Canceled'
                        },
                        {
                            value:                      'reservation altered',
                            displayName:                'Reservation Altered'
                        }
                    ],
                    filtersOptions: {
                        enum: [
                            {
                                displayName: 'is',
                                operator: '$eq',
                                fieldType: 'enum',
                                fields: ['value']
                            },
                            {
                                displayName: 'is not',
                                operator: '$neq',
                                fieldType: 'enum',
                                fields: ['value']
                            }
                        ],
                        number: [
                            {
                                displayName: 'equals',
                                operator: '$eq',
                                fieldType: 'number',
                                fields: ['value'],
                                defaultValues: [0],
                                optionGroup: 'absolute'
                            },
                            {
                                displayName: 'does not equal',
                                operator: '$neq',
                                fieldType: 'number',
                                fields: ['value'],
                                defaultValues: [0],
                                optionGroup: 'absolute'
                            },
                            {
                                displayName: 'is more than',
                                operator: '$gt',
                                fieldType: 'number',
                                fields: ['value'],
                                defaultValues: [0],
                                optionGroup: 'absolute'
                            },
                            {
                                displayName: 'is less than',
                                operator: '$lt',
                                fieldType: 'number',
                                fields: ['value'],
                                defaultValues: [0],
                                optionGroup: 'absolute'
                            },
                            {
                                displayName: 'is between',
                                operator: '$between',
                                fieldType: 'number',
                                fields: ['from', 'to'],
                                defaultValues: [0, 0],
                                optionGroup: 'absolute'
                            }
                        ],
                        date: [
                            {
                                displayName: 'is in the future',
                                operator: '$gt',
                                context: 'now',
                                optionGroup: 'relative'
                            },
                            {
                                displayName: 'is in the past',
                                operator: '$lt',
                                context: 'now',
                                optionGroup: 'relative'
                            },
                            {
                                displayName: 'is in the next',
                                operator: '$between',
                                fieldType: 'number',
                                defaultValues: [0],
                                subject: 'days',
                                fields: ['to'],
                                suffix: 'days',
                                optionGroup: 'relative'
                            },
                            {
                                displayName: 'is after the next',
                                operator: '$gt',
                                fieldType: 'number',
                                defaultValues: [0],
                                subject: 'days',
                                fields: ['value'],
                                suffix: 'days',
                                optionGroup: 'relative'
                            },
                            {
                                displayName: 'is in the last',
                                operator: '$between',
                                fieldType: 'number',
                                defaultValues: [0],
                                subject: 'days',
                                fields: ['from'],
                                suffix: 'days',
                                optionGroup: 'relative'
                            },
                            {
                                displayName: 'is before the last',
                                operator: '$lt',
                                fieldType: 'number',
                                subject: 'days',
                                defaultValues: [0],
                                fields: ['value'],
                                suffix: 'days',
                                optionGroup: 'relative'
                            },
                            {
                                displayName: 'is on',
                                operator: '$eq',
                                fieldType: 'date',
                                fields: ['value'],
                                optionGroup: 'absolute'
                            },
                            {
                                displayName: 'is before',
                                operator: '$lt',
                                fieldType: 'date',
                                fields: ['value'],
                                optionGroup: 'absolute'
                            },
                            {
                                displayName: 'is after',
                                operator: '$gt',
                                fieldType: 'date',
                                fields: ['value'],
                                optionGroup: 'absolute'
                            },
                            {
                                displayName: 'is between',
                                operator: '$between',
                                fieldType: 'date',
                                fields: ['from', 'to'],
                                optionGroup: 'absolute'
                            },
                            {
                                displayName: 'is set',
                                operator: '$exists',
                                fieldType: 'boolean',
                                hideFields: true,
                                defaultValues: [true],
                                fields: ['value'],
                                optionGroup: 'absolute'
                            },
                            {
                                displayName: 'is not set',
                                operator: '$exists',
                                fieldType: 'boolean',
                                hideFields: true,
                                defaultValues: [false],
                                fields: ['value'],
                                optionGroup: 'absolute'
                            }
                        ],
                        time: [
                            {
                                displayName: 'is before',
                                operator: '$lt',
                                fieldType: 'time',
                                fields: ['value'],
                                defaultValues: ['15:00']
                            },
                            {
                                displayName: 'is after (or at)',
                                operator: '$gte',
                                fieldType: 'time',
                                fields: ['value'],
                                defaultValues: ['15:00']
                            },
                            {
                                displayName: 'is set',
                                operator: '$exists',
                                fieldType: 'boolean',
                                hideFields: true,
                                defaultValues: [true],
                                fields: ['value']
                            },
                            {
                                displayName: 'is not set',
                                operator: '$exists',
                                fieldType: 'boolean',
                                hideFields: true,
                                defaultValues: [false],
                                fields: ['value']
                            }
                        ],
	                    text: [
		                    {
			                    displayName: 'contains',
			                    operator: '$contains',
			                    fieldType: 'text',
			                    fields: ['value']
		                    },
		                    {
			                    displayName: 'does not contain',
			                    operator: '$notcontains',
			                    fieldType: 'text',
			                    fields: ['value']
		                    },
		                    {
			                    displayName: 'equals',
			                    operator: '$eq',
			                    fieldType: 'text',
			                    fields: ['value']
		                    }
	                    ],
                    }
                };
            }
        };
    }
]);
