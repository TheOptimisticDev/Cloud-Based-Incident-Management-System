'use strict';

//Templates service used to communicate Templates REST endpoints
angular.module('templates').factory('Templates', [
    '$resource',
    'AppConfig',
	function($resource, AppConfig) {

        var baseApi2Url = AppConfig.API_URL;
        var baseApiOldUrl = AppConfig.API_OLD_URL;

		return $resource(baseApiOldUrl + 'templates/:templateId/:action', { templateId: '@_id'
		}, {
			update: {
				method: 'PUT'
			},
			tree: {
				method: 'GET',
				isArray: true,
				params: {
					action:'tree'
				}
			},
			usage: {
				method: 'GET',
				isArray: false,
				params: {
					action:'usage'
				}
			}
		});
	}
]);
