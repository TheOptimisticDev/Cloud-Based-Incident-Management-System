'use strict';

// Canned Responses service used to communicate Canned Responses REST endpoints
angular.module('templates').factory('CannedResponses', [
    '$resource',
    'AppConfig',
	function($resource, AppConfig) {

        var baseApi2Url = AppConfig.API_URL;
        var baseApiOldUrl = AppConfig.API_OLD_URL;
        
		return $resource(baseApiOldUrl + 'canned-responses/:cannedResponseId/:action', { cannedResponseId: '@_id'
		}, {
			update: {
				method: 'PUT'
			},
			queryGroupedByWith: {
				method: 'GET',
				params: {
					groupedByWith: true
				}
			},
			getRelevant: {
				isArray: true,
				method: 'GET',
                params: {
                    action: 'relevant'
                }
			},
            import: {
                method: 'POST',
                params: {
                    action: 'import'
                }
            }
		});
	}
]);
